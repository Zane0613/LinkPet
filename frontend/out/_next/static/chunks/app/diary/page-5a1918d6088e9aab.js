(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[832],{5395:function(e,t,a){Promise.resolve().then(a.bind(a,6068))},6068:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var r=a(3827),l=a(4090),s=a(8792),n=a(826),d=a(7907);function c(){let e=(0,d.useRouter)(),[t,a]=(0,l.useState)([]),[c,i]=(0,l.useState)(null),[x,o]=(0,l.useState)(!0);(0,l.useEffect)(()=>{n.Z.get("/pet/my/all").then(t=>{t.data&&t.data.length>0?(i(t.data[0].id),h(t.data[0].id)):e.push("/hatch")})},[e]);let h=async e=>{try{let t=await n.Z.get("/trip/diaries?pet_id=".concat(e));a(t.data)}catch(e){console.error(e)}finally{o(!1)}};return x?(0,r.jsx)("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-2xl font-black animate-pulse",children:"加载回忆中..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-[#FFF8E7] p-8",children:[(0,r.jsxs)("header",{className:"max-w-4xl mx-auto flex items-center justify-between mb-12",children:[(0,r.jsx)(s.default,{href:"/home",className:"px-6 py-3 bg-white border-2 border-black rounded-xl font-bold text-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-y-[4px] transition-all",children:"← 返回首页"}),(0,r.jsx)("h1",{className:"text-4xl font-black text-black transform -rotate-2 bg-[#FFB347] px-6 py-2 border-2 border-black rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:"旅行日记"}),(0,r.jsx)("div",{className:"w-[120px]"})," "]}),(0,r.jsx)("div",{className:"grid gap-8 max-w-4xl mx-auto",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-20 bg-white border-2 border-black rounded-2xl shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,r.jsx)("p",{className:"text-2xl font-bold mb-4",children:"还没有旅行记录哦！"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"你的宠物还没出去探险过呢。"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"等它去探索世界吧！"})]}):t.map((e,t)=>(0,r.jsx)("article",{className:"bg-white p-6 rounded-2xl border-2 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] transform hover:-translate-y-1 transition-all duration-300 ".concat(t%2==0?"rotate-1":"-rotate-1"),children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsx)("div",{className:"w-full md:w-1/2 flex-shrink-0",children:(0,r.jsx)("div",{className:"relative aspect-video w-full border-2 border-black rounded-xl overflow-hidden bg-gray-100",children:e.image_url?(0,r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400 font-bold border-2 border-dashed border-gray-400 m-2 rounded-lg w-[calc(100%-16px)] h-[calc(100%-16px)]",children:"暂无照片"})})}),(0,r.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-black text-black",children:e.title}),(0,r.jsx)("span",{className:"px-3 py-1 bg-[#FFB347] border-2 border-black rounded-full text-xs font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",children:new Date(e.created_at).toLocaleDateString()})]}),(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsxs)("p",{className:"text-lg font-medium text-gray-800 leading-relaxed font-serif",children:['"',e.content,'"']})}),(0,r.jsx)("div",{className:"mt-4 pt-4 border-t-2 border-dashed border-gray-300 flex justify-end",children:(0,r.jsx)("span",{className:"text-sm font-bold text-gray-400",children:"LinkPet 拍摄"})})]})]})},e.id))})]})}},826:function(e,t,a){"use strict";var r=a(3107),l=a(9079);let s=r.Z.create({baseURL:l.env.NEXT_PUBLIC_API_URL||"/api/v1",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("linkpet_user_id");t&&(e.headers["X-User-ID"]=t)}return e},e=>Promise.reject(e)),t.Z=s},8792:function(e,t,a){"use strict";a.d(t,{default:function(){return l.a}});var r=a(5250),l=a.n(r)}},function(e){e.O(0,[615,250,971,69,744],function(){return e(e.s=5395)}),_N_E=e.O()}]);
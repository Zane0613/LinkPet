(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{6210:function(e,t,a){Promise.resolve().then(a.bind(a,4981))},4981:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var r=a(3827),l=a(4090),s=a(7907),n=a(826);function o(){let e=(0,s.useRouter)(),[t,a]=(0,l.useState)(!1),[o,c]=(0,l.useState)("");(0,l.useEffect)(()=>{localStorage.getItem("linkpet_user_id")||e.push("/auth/login")},[e]);let i=async t=>{if(t.preventDefault(),o.trim()){a(!0);try{await n.Z.post("/pet/nickname",{nickname:o}),e.push("/hatch")}catch(e){console.error("Failed to set nickname:",e),alert("设置称呼失败，请重试")}finally{a(!1)}}};return(0,r.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-8 bg-[#FFF8E7]",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white rounded-3xl border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-black text-black mb-6 text-center",children:"希望能被怎么称呼？"}),(0,r.jsxs)("form",{onSubmit:i,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-bold text-black mb-2 ml-1",children:"希望宠物称呼我为"}),(0,r.jsx)("input",{type:"text",required:!0,value:o,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,0.2)] focus:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] focus:translate-y-[2px] transition-all outline-none bg-[#FAFAFA]",placeholder:"例如：主人、姐姐、哥哥..."})]}),(0,r.jsx)("button",{type:"submit",disabled:t||!o.trim(),className:"w-full py-4 bg-[#FFB347] text-black border-2 border-black rounded-xl font-black text-lg shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-y-[4px] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:t?"保存中...":"开始孵化"})]})]})})}},826:function(e,t,a){"use strict";let r=a(3107).Z.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("linkpet_user_id");t&&(e.headers["X-User-ID"]=t)}return e},e=>Promise.reject(e)),t.Z=r}},function(e){e.O(0,[615,971,69,744],function(){return e(e.s=6210)}),_N_E=e.O()}]);